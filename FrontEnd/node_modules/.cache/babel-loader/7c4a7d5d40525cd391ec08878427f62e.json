{"ast":null,"code":"var _jsxFileName = \"/Users/bytes4future/Desktop/GitHub_PF/projetoFinal/FrontEnd/src/pages/plataforma.jsx\";\nimport React from 'react';\nimport '../css/plataforma.css';\nimport Menu from './menu';\nimport Dashboard from './dashboard';\nimport LivrosPage from './livrosPage';\nimport Perfil from './perfil';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Plataforma extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      sessao: '',\n      controlador: 0,\n      controladorLivros: \"Home\",\n      aluno: '',\n      anoLetivo: '',\n      escola: ''\n    };\n  }\n\n  async componentDidMount() {\n    const token = await localStorage.getItem('token');\n    this.setState({\n      sessao: token\n    });\n    await this.getAluno();\n  }\n\n  dashboard() {\n    this.setState({\n      controlador: 0\n    });\n  }\n\n  homePageLivros() {\n    this.setState({\n      controlador: 1\n    });\n    this.setState({\n      controladorLivros: \"Home\"\n    });\n  }\n\n  async getAluno() {\n    const tokenAuth = this.state.sessao;\n    const res = await fetch('/api/aluno', {\n      headers: {\n        authorization: `Bearer ${tokenAuth}`\n      }\n    });\n    const json = await res.json();\n    const aluno = json.user;\n    const ano = json.ano;\n    const escola = json.escola;\n    this.setState({\n      aluno: aluno,\n      anoLetivo: ano,\n      escola: escola\n    });\n  }\n\n  anoLetivo() {}\n\n  perfil() {\n    this.setState({\n      controlador: 2\n    });\n  }\n\n  readLivro() {\n    this.setState({\n      controladorLivros: \"readLivro\"\n    });\n  }\n\n  render() {\n    if (this.state.controlador === 0) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"viewport\",\n        children: [/*#__PURE__*/_jsxDEV(Menu, {\n          dashboard: () => this.dashboard(),\n          homePageLivros: () => this.homePageLivros(),\n          perfil: () => this.perfil(),\n          aluno: this.state.aluno,\n          anoLetivo: this.state.anoLetivo,\n          escola: this.state.escola,\n          logout: this.props.logout\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Dashboard, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 5\n      }, this);\n    }\n\n    if (this.state.controlador === 1) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"viewport\",\n        children: [/*#__PURE__*/_jsxDEV(Menu, {\n          dashboard: () => this.dashboard(),\n          homePageLivros: () => this.homePageLivros(),\n          perfil: () => this.perfil(),\n          aluno: this.state.aluno,\n          anoLetivo: this.state.anoLetivo,\n          escola: this.state.escola,\n          logout: this.props.logout\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(LivrosPage, {\n          state: this.state.controladorLivros,\n          readLivro: () => this.readLivro()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 5\n      }, this);\n    }\n\n    if (this.state.controlador === 2) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"viewport\",\n        children: [/*#__PURE__*/_jsxDEV(Menu, {\n          dashboard: () => this.dashboard(),\n          homePageLivros: () => this.homePageLivros(),\n          perfil: () => this.perfil(),\n          aluno: this.state.aluno,\n          anoLetivo: this.state.anoLetivo,\n          escola: this.state.escola,\n          logout: this.props.logout\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Perfil, {\n          aluno: this.state.aluno,\n          anoLetivo: this.state.anoLetivo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 5\n      }, this);\n    }\n  }\n\n}","map":{"version":3,"sources":["/Users/bytes4future/Desktop/GitHub_PF/projetoFinal/FrontEnd/src/pages/plataforma.jsx"],"names":["React","Menu","Dashboard","LivrosPage","Perfil","Plataforma","Component","constructor","props","state","sessao","controlador","controladorLivros","aluno","anoLetivo","escola","componentDidMount","token","localStorage","getItem","setState","getAluno","dashboard","homePageLivros","tokenAuth","res","fetch","headers","authorization","json","user","ano","perfil","readLivro","render","logout"],"mappings":"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","sourcesContent":["import React from 'react';\nimport '../css/plataforma.css'\nimport Menu from './menu'\nimport Dashboard from './dashboard'\nimport LivrosPage from './livrosPage'\nimport Perfil from './perfil'\n\nexport default class Plataforma extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tsessao: '',\n\t\t\tcontrolador: 0,\n\t\t\tcontroladorLivros: \"Home\",\n\t\t\taluno: '',\n\t\t\tanoLetivo: '',\n\t\t\tescola: ''\n\t\t}\n\t}\n\n\tasync componentDidMount() {\n\t\tconst token = await localStorage.getItem('token')\n\t\tthis.setState({ sessao: token })\n\t\tawait this.getAluno()\n\t}\n\n\n\tdashboard() {\n\t\tthis.setState({ controlador: 0 });\n\t}\n\n\thomePageLivros() {\n\t\tthis.setState({ controlador: 1 });\n\t\tthis.setState({ controladorLivros: \"Home\" });\n\t}\n\n\tasync getAluno() {\n\t\tconst tokenAuth = this.state.sessao\n\t\t\n\t\tconst res = await fetch('/api/aluno', {\n\t\t\theaders: {\n\t\t\t\tauthorization: `Bearer ${tokenAuth}`\n\t\t\t}\n\t\t})\n\n\t\tconst json = await res.json();\n\t\tconst aluno = json.user;\n\t\tconst ano = json.ano;\n\t\tconst escola = json.escola;\n\n\t\tthis.setState({\n\t\t\taluno: aluno,\n\t\t\tanoLetivo: ano,\n\t\t\tescola: escola\n\t\t})\n\t}\n\n\tanoLetivo() {\n\n\t}\n\n\tperfil() {\n\t\tthis.setState({ controlador: 2 });\n\t}\n\n\treadLivro() {\n\t\tthis.setState({ controladorLivros: \"readLivro\" });\n\t}\n\n\trender() {\n\t\tif (this.state.controlador === 0) {\n\t\t\treturn (\n\t\t\t\t<div className=\"viewport\">\n\t\t\t\t\t<Menu dashboard={() => this.dashboard()}\n\t\t\t\t\t\thomePageLivros={() => this.homePageLivros()}\n\t\t\t\t\t\tperfil={() => this.perfil()}\n\t\t\t\t\t\taluno={this.state.aluno}\n\t\t\t\t\t\tanoLetivo={this.state.anoLetivo}\t\n\t\t\t\t\t\tescola={this.state.escola}\n\t\t\t\t\t\tlogout={this.props.logout} />\n\t\t\t\t\t<Dashboard />\n\t\t\t\t</div>\n\t\t\t)\n\t\t}\n\n\t\tif (this.state.controlador === 1) {\n\t\t\treturn (\n\t\t\t\t<div className=\"viewport\">\n\t\t\t\t\t<Menu dashboard={() => this.dashboard()}\n\t\t\t\t\t\thomePageLivros={() => this.homePageLivros()}\n\t\t\t\t\t\tperfil={() => this.perfil()}\n\t\t\t\t\t\taluno={this.state.aluno}\n\t\t\t\t\t\tanoLetivo={this.state.anoLetivo}\n\t\t\t\t\t\tescola={this.state.escola}\n\t\t\t\t\t\tlogout={this.props.logout}\n\t\t\t\t\t/>\n\t\t\t\t\t<LivrosPage state={this.state.controladorLivros}\n\t\t\t\t\t\treadLivro={() => this.readLivro()}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t)\n\t\t}\n\t\tif (this.state.controlador === 2) {\n\t\t\treturn (\n\t\t\t\t<div className=\"viewport\">\n\t\t\t\t\t<Menu dashboard={() => this.dashboard()}\n\t\t\t\t\t\thomePageLivros={() => this.homePageLivros()}\n\t\t\t\t\t\tperfil={() => this.perfil()}\n\t\t\t\t\t\taluno={this.state.aluno}\n\t\t\t\t\t\tanoLetivo={this.state.anoLetivo}\n\t\t\t\t\t\tescola={this.state.escola}\n\t\t\t\t\t\tlogout={this.props.logout}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<Perfil aluno={this.state.aluno} anoLetivo={this.state.anoLetivo}/>\n\n\t\t\t\t</div>\n\t\t\t)\n\t\t}\n\t}\n\n}"]},"metadata":{},"sourceType":"module"}